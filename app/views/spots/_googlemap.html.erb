<button type="button" data-toggle="modal" data-backdrop="true" data-target="#modal2-option" class="btn btn-default">地図を表示する</button>

<div class="modal fade" id="modal2-option" tabindex="-1" role="dialog" aria-labelledby="myModalOptionLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="myModalOptionLabel">
          <%= @spot.spot_name %><br>
          <%= @spot.spot_address %>
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="閉じる"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
         <div id="map" style='width: 100%; height: 400px;'></div>
            <script type="text/javascript">
              handler = Gmaps.build('Google');
              handler.buildMap({ provider: { scrollwheel: false }, internal: {id: 'map'}}, function(){
                markers = handler.addMarkers([
                  {
                    "lat": <%= @spot.latitude %>,
                    "lng": <%= @spot.longitude %>,
                "infowindow": '<p><%= @spot.spot_name %></p><p><%= @spot.spot_address %></p><p><%= link_to "Googleマップで見る" ,"https://maps.google.co.jp/maps?q=loc:#{@spot.latitude},#{@spot.longitude}&iwloc=J",target: "_blank" %></p>'
                  }
                ]);
                handler.bounds.extendWith(markers);
                handler.fitMapToBounds();
                handler.getMap().setZoom(17);
              });
            </script>
          </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">閉じる</button>
      </div>
    </div>
  </div>
</div>